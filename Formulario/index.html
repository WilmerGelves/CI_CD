<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario de Contacto Empresarial</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h2>Formulario de Contacto Empresarial</h2>
  <form id="contactForm">
    <!-- Nombre completo -->
    <label for="nombre">Nombre completo *</label>
    <input type="text" id="nombre" name="nombre" required 
           pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ ]+" 
           title="Solo letras y espacios permitidos">

    <!-- Email corporativo -->
    <label for="email">Email corporativo *</label>
    <input type="email" id="email" name="email" required
           pattern="^[^@]+@[^@]+\.[^@]{2,}$" 
           title="Formato de email inválido">

    <!-- Teléfono (10 dígitos) -->
    <label for="telefono">Teléfono (10 dígitos) *</label>
    <input type="tel" id="telefono" name="telefono" required
           pattern="^[0-9]{10}$" 
           title="Debe contener exactamente 10 dígitos numéricos">

    <!-- Empresa -->
    <label for="empresa">Empresa *</label>
    <input type="text" id="empresa" name="empresa" required>

    <!-- Cargo -->
    <label for="cargo">Cargo *</label>
    <input type="text" id="cargo" name="cargo" required>

    <!-- País (dropdown) -->
    <label for="pais">País *</label>
    <select id="pais" name="pais" required>
      <option value="">Seleccione un país</option>
      <option value="co">Colombia</option>
      <option value="mx">México</option>
      <option value="ar">Argentina</option>
      <option value="cl">Chile</option>
      <option value="pe">Perú</option>
      <option value="es">España</option>
    </select>

    <!-- Mensaje -->
    <label for="mensaje">Mensaje</label>
    <textarea id="mensaje" name="mensaje" maxlength="500" required placeholder="(máx. 500 caracteres) *"></textarea>

    <!-- Checkbox términos -->
    <label>
      <input type="checkbox" id="terminos" name="terminos" required>
      Acepto los términos y condiciones *
    </label>

    <!-- Botón -->
    <button type="submit">Enviar</button>
  </form>

  <script>
    // Validaciones extra con JS
    document.getElementById("contactForm").addEventListener("submit", function(e) {
      const mensaje = document.getElementById("mensaje").value;

      // Prevención contra inyección de código
      const forbiddenPattern = /<script>|<\/script>|<[^>]+>/gi; //expresión regular que busca expresiones regulares 
      if (forbiddenPattern.test(mensaje)) {
        alert("ERROR: El mensaje contiene caracteres no permitidos.");
        e.preventDefault();
        return;
      }

      alert("Formulario enviado correctamente.");
    });
  </script>
</body>
</html>
